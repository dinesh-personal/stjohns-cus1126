Java version of the code. 
